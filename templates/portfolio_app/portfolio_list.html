{% extends "base.html" %}
{% comment %}
Portfolio List Page
- Uses 2-column grid on medium screens and up for larger previews.
- Increased grid gap for better spacing.
- Uses Tailwind aspect-ratio utility for consistent image sizes.
{% endcomment %}

{% load static humanize %}

{% block title %}{{ page_title }} | Lehman Custom Construction{% endblock %}

{% block content %}
<section class="bg-background py-10 md:py-16 lg:py-20">
    <div class="container px-6 py-10 mx-auto">
        <h1 class="text-3xl font-semibold text-primary capitalize lg:text-4xl text-center mb-10 md:mb-16 font-serif">
            {{ page_title | default:"Our Work" }}
        </h1>

        {% if portfolio_items %}
            <div class="grid grid-cols-1 gap-8 md:grid-cols-2 md:gap-10 lg:gap-12 mt-8 md:mt-12">

                {% for item in portfolio_items %}
                <div class="group relative">
                    <a href="{% url 'LehmanCustomConstruction:portfolio_detail' item.slug %}" class="block mb-4">
                        <div class="overflow-hidden rounded-lg shadow-md aspect-video group-hover:shadow-xl transition-shadow duration-300 ease-in-out">
                            {% if item.featured_image %}
                                <img class="object-cover object-center w-full h-full transform transition-transform duration-300 ease-in-out group-hover:scale-105"
                                     src="{{ item.featured_image.url }}"
                                     alt="{{ item.title }} featured image">
                            {% else %}
                                <div class="flex items-center justify-center w-full h-full bg-gray-200 aspect-video">
                                    <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                                </div>
                            {% endif %}
                        </div>
                    </a>

                    <div>
                        {% if item.category %}
                        <p class="text-sm font-medium text-accent mb-1">{{ item.category.name }}</p>
                        {% endif %}

                        <h2 class="text-lg font-semibold text-primary hover:text-accent transition-colors duration-200 font-serif leading-tight">
                            <a href="{% url 'LehmanCustomConstruction:portfolio_detail' item.slug %}" >
                                {{ item.title }}
                            </a>
                        </h2>

                        {% if item.short_description %}
                        <p class="mt-1 text-sm text-secondary line-clamp-2">
                            {{ item.short_description }}
                        </p>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}

            </div>

        {% else %}
            <p class="text-center text-secondary mt-12">
                Our portfolio is currently being updated. Please check back soon for examples of our work.
            </p>
        {% endif %}

    </div>
</section>
{% endblock %}