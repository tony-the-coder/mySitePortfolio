{% extends "base.html" %}
{% load static i18n %}
{% load django_vite %} {# Make sure django_vite is loaded #}

{% block title %}{{ page_title|default:"Contact Me" }} - Tony the Coder{% endblock title %}

{% block meta_description %}
    {{ meta_description|default:"Get in touch with Tony the Coder to discuss your web development projects, AI ideas, or collaboration opportunities." }}
{% endblock meta_description %}

{# Optional: Add a simple hero/header for the contact page if not handled by React #}
{% block hero_section %}
<section aria-labelledby="contact-hero-title" class="relative bg-gradient-to-br from-gray-50 via-stone-100 to-blue-50 text-brand-charcoal border-b border-gray-200">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center py-20 md:py-28 lg:py-32 pt-32 md:pt-36 lg:pt-44">
        <h1 id="contact-hero-title" class="text-4xl sm:text-5xl md:text-6xl font-bold font-heading mb-5 leading-tight">
            Let's Connect
        </h1>
        <p class="mt-4 max-w-3xl mx-auto text-lg sm:text-xl text-gray-600" style="font-family: var(--font-body);">
            Have a project in mind, a question, or just want to say hello? I'd love to hear from you!
        </p>
    </div>
</section>
{% endblock hero_section %}

{% block breadcrumbs_block %}
    {% if breadcrumbs %}
         {# Breadcrumbs generated in views.py using 'portfolio_app' namespace #}
        {% include 'partials/_breadcrumbs.html' with breadcrumbs=breadcrumbs %}
    {% endif %}
{% endblock breadcrumbs_block %}

{% block content %}
<div class="bg-white py-12 sm:py-16 lg:py-20">
    <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">

        {# Any messages from Django (e.g., if you had a non-JS fallback, though less likely with React) #}
        {% if messages %}
        <div class="mb-6">
            {% for message in messages %}
            <div class="p-4 rounded-md {% if message.tags == 'success' %}bg-green-100 border border-green-300 text-green-800{% elif message.tags == 'error' %}bg-red-100 border border-red-300 text-red-800{% else %}bg-yellow-100 border border-yellow-300 text-yellow-800{% endif %}" role="alert">
               {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        {# This is where your React contact form will be injected. #}
        {# The ID 'react-contact-form-root' should match what your React app uses to mount. #}
        <div id="react-contact-form-root">
            {# Optional: Add a loading message/spinner that React will replace #}
            <div class="text-center py-10">
                <p class="text-gray-500 animate-pulse">Loading contact form...</p>
            </div>
        </div>

        {# The old Django form logic is removed from here. #}
        {# Your React component will handle the form structure, inputs, and submission. #}
        {# The actual <form> tag and its inputs will be part of your React component's JSX. #}

    </div>
</div>
{% endblock content %}

{% block extra_js %}
    {{ block.super }}
    {# This ensures the JavaScript bundle for your React app is loaded on this page. #}
    {# It should point to your Vite project's main entry file in `frontend/src/`. #}
    {% vite_asset 'src/main.jsx' %}
{% endblock extra_js %}